{
  "$defs": {
    "DeviceInformation": {
      "additionalProperties": false,
      "description": "",
      "properties": {
        "encoded": {
          "description": "Device information retrieved from cloudfront headers encoded in Base64.\n",
          "type": "string"
        }
      },
      "title": "DeviceInformation",
      "type": "object"
    },
    "IprUserRedirectedExtensions": {
      "additionalProperties": false,
      "description": "",
      "properties": {
        "previous_govuk_signin_journey_id": {
          "description": "Previous journey id in case of session recovery\n",
          "type": "string"
        }
      },
      "title": "IprUserRedirectedExtensions",
      "type": "object"
    },
    "IprUserRedirectedRestricted": {
      "additionalProperties": false,
      "description": "",
      "properties": {
        "device_information": {
          "$ref": "#/$defs/DeviceInformation",
          "description": "Information about the user's device."
        }
      },
      "title": "IprUserRedirectedRestricted",
      "type": "object"
    },
    "IprUserRedirectedUser": {
      "additionalProperties": false,
      "description": "",
      "properties": {
        "user_id": {
          "description": "This is the CommonSubjectID (i.e. the internal version of the pairwiseid) of the user in the relevant part of the system.\n",
          "type": "string"
        }
      },
      "title": "IprUserRedirectedUser",
      "type": "object"
    }
  },
  "$id": "https://event-catalogue.internal.account.gov.uk/IPR_USER_REDIRECTED",
  "additionalProperties": false,
  "description": "Emitted just before the user is redirected out of IPR to the relevant RP.",
  "properties": {
    "client_id": {
      "description": "Links the transaction to the client (Relying Party) that initiated the journey.\n",
      "type": "string"
    },
    "component_id": {
      "description": "The component part of the DI system that has generated the event.\n",
      "type": "string"
    },
    "event_name": {
      "description": "A short name, in UPPER_SNAKE format, for the event that has taken place in the system\n",
      "type": "string"
    },
    "event_timestamp_ms": {
      "description": "Records the time and date of when the event occurred. This should be a UTC timestamp and be recorded to the nearest millisecond.\n",
      "type": "integer"
    },
    "extensions": {
      "$ref": "#/$defs/IprUserRedirectedExtensions"
    },
    "restricted": {
      "$ref": "#/$defs/IprUserRedirectedRestricted"
    },
    "timestamp": {
      "description": "Records the time and date of when the event occurred. This should be a UTC timestamp and be recorded to the nearest second.\n",
      "type": "integer"
    },
    "user": {
      "$ref": "#/$defs/IprUserRedirectedUser"
    }
  },
  "required": [
    "timestamp",
    "event_name",
    "component_id",
    "event_timestamp_ms"
  ],
  "title": "IPR_USER_REDIRECTED",
  "type": "object"
}